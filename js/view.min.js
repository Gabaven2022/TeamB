function abs(x,y){if(x>=y){return x-y}else{return y-x}} function sqrt(x){return Math.sqrt(x)} function cbrt(x){return Math.cbrt(x)} function cosine(x){return Math.cos(x)} function cos(x){return Math.cos(x)} function sin(x){return Math.sin(x)} function log(x){return Math.log(x)} function tan(x){return Math.tan(x)} function arctan(x){return Math.atan(x)} function log10(x){return Math.log10(x)} function pow10(x){return Math.pow(10,x)} function pow(x){return Math.pow(10,x)} function powxy(x,y){return Math.pow(x,y)} function floor(x){return Math.floor(x)} function round(x){return Math.round(x)} function round1(x){return Math.round(x*10)/10} function round2(x){return Math.round(x*100)/100} function ceil(x){return Math.ceil(x)} function min(x,y){return Math.min(x,y)} function max(x,y){return Math.max(x,y)} function morethan(x,y){if(x>y){return 1}else{return 0}} function moreequal(x,y){if(x>=y){return 1}else{return 0}} function lessthan(x,y){return morethan(y,x)} function lessequal(x,y){return moreequal(y,x)} function permutation(n,r){if(isNaN(n)||isNaN(r)||n<r||r<1){return 1}else if(r==1){return n}else{return(n-r+1)*permutation(n,r-1)}} function combination(n,r){if(isNaN(n)||isNaN(r)||n<r||r<1){return 1}else if(r==1){return n}else{return(n-r+1)*combination(n,r-1)/r}} function gcd(x,y){if(x==y){return x}else{p=max(x,y);q=min(x,y);return gcd(p-q,q)}} var pie=Math.PI;function gettotal(ratio,tax,num){if(num==0){return 1}else{return gettotal(ratio,tax,num-1)*(1+(1*ratio*(1-tax)))}} jQuery(document).ready(function(){var favoritemax=$(".addtofavorite").data('max');function addFavorite(){$(".favoritedmark").removeClass('fade');$(".removefavorite").removeClass('hidden');$(".addtofavorite").addClass('hidden')} function removeFavorite(){$(".favoritedmark").addClass('fade');$(".removefavorite").addClass('hidden');$(".addtofavorite").removeClass('hidden')} $(".addtofavorite").click(function(){var favorite_pages_start=JSON.parse(localStorage.getItem('favorite_pages'));if(favorite_pages_start!=null&&favorite_pages_start.length>=favoritemax){var message=$(".addtofavorite").data('nomoremessage');alert(message);return}else{title=document.title;var favorite_pages=[{fullurl:document.URL,title:title,datetime:$.now()}];if(favorite_pages_start){for(i=0;i<favoritemax;i++){if(favorite_pages_start[i]&&typeof(favorite_pages_start[i].fullurl)!="undefined"&&favorite_pages[0].fullurl!==favorite_pages_start[i].fullurl){favorite_pages.push(favorite_pages_start[i])}}} localStorage.setItem('favorite_pages',JSON.stringify(favorite_pages));addFavorite()}});$(".removefavorite").click(function(){var favorite_pages_start=JSON.parse(localStorage.getItem('favorite_pages'));var favorite_pages=[];if(favorite_pages_start){for(i=0;i<favoritemax;i++){if(favorite_pages_start[i]&&typeof(favorite_pages_start[i].fullurl)!="undefined"&&document.URL!==favorite_pages_start[i].fullurl){favorite_pages.push(favorite_pages_start[i])}}} localStorage.setItem('favorite_pages',JSON.stringify(favorite_pages));removeFavorite()});var favorite_pages=JSON.parse(localStorage.getItem('favorite_pages'));var selected=!1;if(favorite_pages){for(i=0;i<favoritemax;i++){if(!selected&&favorite_pages[i]&&typeof(favorite_pages[i].fullurl)!="undefined"&&favorite_pages[i].fullurl){if(document.URL==favorite_pages[i].fullurl){selected=!0}}}} if(selected){addFavorite()} function displayFavorites(){var favorite_pages=JSON.parse(localStorage.getItem('favorite_pages'));var title='title';var listclass='viewhistory';listdata=$("<ul></ul>",{class:listclass});$(".favoritelist").text('');if(favorite_pages!==null){$(".favoritelist").append(listdata);var length=favorite_pages.length;for(i=0;i<length;i++){if(favorite_pages[i]){if(typeof(favorite_pages[i].fullurl)!="undefined"&&favorite_pages[i].fullurl.length){textdata=$("<a></a>",{href:encodeURI(favorite_pages[i].fullurl),text:favorite_pages[i][title]});textlist=$("<li></li>").html(textdata);$(".favoritelist").children('ul').append(textlist)}else if(!isNaN(favorite_pages[i].url)){textdata=$("<a></a>",{href:'https://calculator.jp/index.php?cID='+parseInt(favorite_pages[i].url),text:favorite_pages[i][title]});textlist=$("<li></li>").html(textdata);$(".favoritelist").children('ul').append(textlist)}}}}else{var nofavmessage=$('.favoritelist').data('nofavmessage');$(".favoritelist").text(nofavmessage)}} $(".addtofavorite").click(function(){displayFavorites()});$(".removefavorite").click(function(){displayFavorites()});displayFavorites();$('form').each(function(index,element){var formid=$(element).prop('id');var id=formid.substr(4);if(id){var data=JSON.parse(localStorage.getItem("calculator"+id));if(data){$.each(data[0].data,function(i,item){$('[name='+item.name+']').val([item.value])})}}});var urlParam=location.search.substring(1);if(urlParam){var param=urlParam.split('&');for(i=0;i<param.length;i++){var paramItem=param[i].split('=');if(paramItem[0].slice(0,8)=="textarea"){$('[name='+paramItem[0]+']').val(paramItem[1].replace(/%0D%0A/g,"\r\n"))}else{$('[name='+paramItem[0]+']').val(decodeURIComponent(paramItem[1]))}}}})